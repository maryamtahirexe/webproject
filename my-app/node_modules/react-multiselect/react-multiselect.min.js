/*! react-multiselect - v0.4.1 - 2015-04-26 */
!function(a,b){"object"==typeof exports?module.exports=b(require("react/addons")):a.MultiSelect=b(a.React)}(this,function(a){var b=a.createClass({displayName:"MultiSelectItem",getDefaultProps:function(){return{visible:!0,selected:!1,text:"",onClick:function(){}}},render:function(){return this.props.visible&&a.createElement("li",{className:this.props.selected?"selected":"deselected",onClick:this.props.onClick},this.props.text)}}),c=a.createClass({displayName:"MultiSelect",getDefaultProps:function(){return{items:[],placeholder:"Enter some filter text",onChange:function(){},onItemSelected:function(){},onItemDeselected:function(){}}},getInitialState:function(){return{selections:{},filter:""}},handleItemClick:function(a){this.setSelected(a,!this.state.selections[a.id])},handleFilterChange:function(a){this.setState({filter:a.target.value})},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createItem:function(c){var d=new RegExp(".*"+this.escapeRegExp(this.state.filter)+".*","i"),e="text"in c?c.text:"name"in c?c.name:c.id;return a.createElement(b,{key:c.id,text:e,onClick:this.handleItemClick.bind(this,c),visible:d.test(e),selected:this.state.selections[c.id]?!0:!1})},selectAll:function(a){this.setSelected(this.props.items,!0)},selectNone:function(a){this.setSelected(this.props.items,!1)},setSelected:function(a,b){a instanceof Array||(a=[a]);var c=this.state.selections;for(var d in a)c[a[d].id]=b,b?this.props.onItemSelected(a[d]):this.props.onItemDeselected(a[d]);this.setState({selections:c}),this.props.onChange(c)},render:function(){return a.createElement("div",{className:"multiselect"},a.createElement("input",{onChange:this.handleFilterChange,value:this.state.filter,placeholder:this.props.placeholder}),a.createElement("ul",null,this.props.items.map(this.createItem)),a.createElement("button",{onClick:this.selectAll},"Select all"),"Â ",a.createElement("button",{onClick:this.selectNone},"Select none"))}});return c});