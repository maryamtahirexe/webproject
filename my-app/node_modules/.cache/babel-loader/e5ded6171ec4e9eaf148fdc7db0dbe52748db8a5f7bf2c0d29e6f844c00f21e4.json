{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  shops: [],\n  loading: false,\n  error: null\n};\nexport const createShop = createAsyncThunk(\"shops/createShop\", async (shopData, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/shops\", shopData);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const getAllShops = createAsyncThunk(\"shops/getAllShops\", async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(\"http://localhost:5000/shops\");\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const deleteShop = createAsyncThunk(\"shops/deleteShop\", async (shopId, {\n  rejectWithValue\n}) => {\n  try {\n    await axios.delete(`http://localhost:5000/shops/${shopId}`);\n    return shopId;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const updateShop = createAsyncThunk(\"shops/updateShop\", async ({\n  shopId,\n  updatedData\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.put(`http://localhost:5000/shops/${shopId}`, updatedData);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst shopSlice = createSlice({\n  name: \"shops\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(createShop.pending, state => {\n      state.loading = true;\n    }).addCase(createShop.fulfilled, (state, action) => {\n      state.loading = false;\n      state.shops.push(action.payload);\n    }).addCase(createShop.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(getAllShops.pending, state => {\n      state.loading = true;\n    }).addCase(getAllShops.fulfilled, (state, action) => {\n      state.loading = false;\n      state.shops = action.payload;\n    }).addCase(getAllShops.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(deleteShop.pending, state => {\n      state.loading = true;\n    }).addCase(deleteShop.fulfilled, (state, action) => {\n      state.loading = false;\n      state.shops = state.shops.filter(shop => shop._id !== action.payload);\n    }).addCase(deleteShop.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(updateShop.pending, state => {\n      state.loading = true;\n    }).addCase(updateShop.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.shops.findIndex(shop => shop._id === action.payload._id);\n      if (index !== -1) {\n        state.shops[index] = action.payload;\n      }\n    }).addCase(updateShop.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default shopSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","shops","loading","error","createShop","shopData","rejectWithValue","response","post","data","getAllShops","_","get","deleteShop","shopId","delete","updateShop","updatedData","put","shopSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","filter","shop","_id","index","findIndex","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/shopSlice/shopSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  shops: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport const createShop = createAsyncThunk(\r\n  \"shops/createShop\",\r\n  async (shopData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/shops\",\r\n        shopData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllShops = createAsyncThunk(\r\n  \"shops/getAllShops\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/shops\");\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteShop = createAsyncThunk(\r\n  \"shops/deleteShop\",\r\n  async (shopId, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/shops/${shopId}`);\r\n      return shopId;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateShop = createAsyncThunk(\r\n  \"shops/updateShop\",\r\n  async ({ shopId, updatedData }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\r\n        `http://localhost:5000/shops/${shopId}`,\r\n        updatedData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst shopSlice = createSlice({\r\n  name: \"shops\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops.push(action.payload);\r\n      })\r\n      .addCase(createShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(getAllShops.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(getAllShops.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops = action.payload;\r\n      })\r\n      .addCase(getAllShops.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(deleteShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(deleteShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops = state.shops.filter((shop) => shop._id !== action.payload);\r\n      })\r\n      .addCase(deleteShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(updateShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updateShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.shops.findIndex(\r\n          (shop) => shop._id === action.payload._id\r\n        );\r\n        if (index !== -1) {\r\n          state.shops[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default shopSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}