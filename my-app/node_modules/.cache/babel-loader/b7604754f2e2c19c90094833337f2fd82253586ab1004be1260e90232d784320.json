{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";export const fetchOwner=createAsyncThunk(\"owner/fetchOwner\",async(_,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.get(\"http://localhost:5000/owner\");console.log(response.data._id);return response.data;}catch(error){var _error$response,_error$response$data;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);}});export const updateOwner=createAsyncThunk(\"owner/updateOwner\",async(_ref2,_ref3)=>{let{id,email,newPassword}=_ref2;let{rejectWithValue}=_ref3;try{const response=await axios.get(\"http://localhost:5000/owner\");const id=response.data._id;const responses=await axios.put(\"http://localhost:5000/owner/\".concat(id),{email,password:newPassword});return responses.data;}catch(error){var _error$response2,_error$response2$data;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);}});const initialState={owner:null,loading:false,error:null,message:null};const updateSlice=createSlice({name:\"update\",initialState,reducers:{clearMessage:state=>{state.message=null;},clearError:state=>{state.error=null;}},extraReducers:builder=>{builder.addCase(fetchOwner.pending,state=>{state.loading=true;}).addCase(fetchOwner.fulfilled,(state,action)=>{state.loading=false;state.owner=action.payload;state.error=null;}).addCase(fetchOwner.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(updateOwner.pending,state=>{state.loading=true;}).addCase(updateOwner.fulfilled,(state,action)=>{state.loading=false;state.owner=action.payload.owner;state.error=null;state.message=\"Owner updated successfully\";}).addCase(updateOwner.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export const{clearMessage,clearError}=updateSlice.actions;export default updateSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchOwner","_","_ref","rejectWithValue","response","get","console","log","data","_id","error","_error$response","_error$response$data","message","updateOwner","_ref2","_ref3","id","email","newPassword","responses","put","concat","password","_error$response2","_error$response2$data","initialState","owner","loading","updateSlice","name","reducers","clearMessage","state","clearError","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/updateSlice/updateSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const fetchOwner = createAsyncThunk(\r\n  \"owner/fetchOwner\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/owner\");\r\n      console.log(response.data._id);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data?.message || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateOwner = createAsyncThunk(\r\n  \"owner/updateOwner\",\r\n  async ({ id, email, newPassword }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/owner\");\r\n      const id = response.data._id;\r\n      const responses = await axios.put(`http://localhost:5000/owner/${id}`, {\r\n        email,\r\n        password: newPassword,\r\n      });\r\n      return responses.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data?.message || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  owner: null,\r\n  loading: false,\r\n  error: null,\r\n  message: null,\r\n};\r\n\r\nconst updateSlice = createSlice({\r\n  name: \"update\",\r\n  initialState,\r\n  reducers: {\r\n    clearMessage: (state) => {\r\n      state.message = null;\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchOwner.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(fetchOwner.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.owner = action.payload;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchOwner.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n\r\n      .addCase(updateOwner.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updateOwner.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.owner = action.payload.owner;\r\n        state.error = null;\r\n        state.message = \"Owner updated successfully\";\r\n      })\r\n      .addCase(updateOwner.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { clearMessage, clearError } = updateSlice.actions;\r\n\r\nexport default updateSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}