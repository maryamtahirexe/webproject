{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/Fahad/Downloads/webb/webproject/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"id\"];import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{API}from\"../../utils/api.js\";export const fetchPayments=createAsyncThunk(\"payments/fetchPayments\",async()=>{const response=await API.get(\"/payments\");return response.data;});export const createPayment=createAsyncThunk(\"payments/createPayment\",async paymentData=>{const response=await API.post(\"/payments\",paymentData);return response.data;});export const updatePayment=createAsyncThunk(\"payments/updatePayment\",async _ref=>{let{id}=_ref,paymentData=_objectWithoutProperties(_ref,_excluded);const response=await API.put(\"/payments/\".concat(id),paymentData);return response.data;});export const deletePayment=createAsyncThunk(\"payments/deletePayment\",async id=>{await API.delete(\"/payments/\".concat(id));return id;});const paymentSlice=createSlice({name:\"payments\",initialState:{payments:[],loading:false,error:null},extraReducers:builder=>{builder.addCase(fetchPayments.pending,state=>{state.loading=true;}).addCase(fetchPayments.fulfilled,(state,action)=>{state.loading=false;state.payments=action.payload;}).addCase(fetchPayments.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(createPayment.pending,state=>{state.loading=true;}).addCase(createPayment.fulfilled,(state,action)=>{state.loading=false;state.payments.push(action.payload);}).addCase(createPayment.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(updatePayment.pending,state=>{state.loading=true;}).addCase(updatePayment.fulfilled,(state,action)=>{state.loading=false;const index=state.payments.findIndex(payment=>payment._id===action.payload._id);if(index!==-1)state.payments[index]=action.payload;}).addCase(updatePayment.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(deletePayment.pending,state=>{state.loading=true;}).addCase(deletePayment.fulfilled,(state,action)=>{state.loading=false;state.payments=state.payments.filter(payment=>payment._id!==action.payload);}).addCase(deletePayment.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;});}});export default paymentSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","API","fetchPayments","response","get","data","createPayment","paymentData","post","updatePayment","_ref","id","_objectWithoutProperties","_excluded","put","concat","deletePayment","delete","paymentSlice","name","initialState","payments","loading","error","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","push","index","findIndex","payment","_id","filter","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/paymentSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { API } from \"../../utils/api.js\";\r\n\r\nexport const fetchPayments = createAsyncThunk(\r\n  \"payments/fetchPayments\",\r\n  async () => {\r\n    const response = await API.get(\"/payments\");\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const createPayment = createAsyncThunk(\r\n  \"payments/createPayment\",\r\n  async (paymentData) => {\r\n    const response = await API.post(\"/payments\", paymentData);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updatePayment = createAsyncThunk(\r\n  \"payments/updatePayment\",\r\n  async ({ id, ...paymentData }) => {\r\n    const response = await API.put(`/payments/${id}`, paymentData);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const deletePayment = createAsyncThunk(\r\n  \"payments/deletePayment\",\r\n  async (id) => {\r\n    await API.delete(`/payments/${id}`);\r\n    return id;\r\n  }\r\n);\r\n\r\nconst paymentSlice = createSlice({\r\n  name: \"payments\",\r\n  initialState: {\r\n    payments: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchPayments.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(fetchPayments.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.payments = action.payload;\r\n      })\r\n      .addCase(fetchPayments.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(createPayment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createPayment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.payments.push(action.payload);\r\n      })\r\n      .addCase(createPayment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(updatePayment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updatePayment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.payments.findIndex(\r\n          (payment) => payment._id === action.payload._id\r\n        );\r\n        if (index !== -1) state.payments[index] = action.payload;\r\n      })\r\n      .addCase(updatePayment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(deletePayment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(deletePayment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.payments = state.payments.filter(\r\n          (payment) => payment._id !== action.payload\r\n        );\r\n      })\r\n      .addCase(deletePayment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport default paymentSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}