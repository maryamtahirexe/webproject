{"ast":null,"code":"import _objectSpread from\"C:/Users/Fahad/Downloads/webb/webproject/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{createTenant,updateTenant}from\"../../redux/slices/tenantSlice\";import{useNavigate,useLocation}from\"react-router-dom\";import InputField from\"../../components/inputField/inputField\";import Button from\"../../components/Button/button\";import Popup from\"reactjs-popup\";import\"reactjs-popup/dist/index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddTenant=()=>{var _location$state;const dispatch=useDispatch();const navigate=useNavigate();const location=useLocation();const editTenant=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.tenant;const[formData,setFormData]=useState({name:\"\",email:\"\",password:\"\"});const[popupMessage,setPopupMessage]=useState(null);const[popupType,setPopupType]=useState(null);useEffect(()=>{if(editTenant)setFormData(editTenant);},[editTenant]);const handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{if(editTenant){await dispatch(updateTenant(_objectSpread({id:editTenant._id},formData))).unwrap();setPopupMessage(\"Tenant updated successfully\");setPopupType(\"success\");}else{await dispatch(createTenant(formData)).unwrap();setPopupMessage(\"Tenant created successfully\");setPopupType(\"success\");}setFormData({name:\"\",email:\"\",password:\"\"});}catch(error){setPopupMessage(\"Failed to save tenant\");setPopupType(\"error\");}};const closePopup=()=>{setPopupMessage(null);if(popupType===\"success\"){navigate(\"/dashboard/tenants\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 bg-white border-2 border-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl text-highlight mb-6 text-center\",children:editTenant?\"Edit Tenant\":\"Add Tenant\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(InputField,{label:\"Name\",name:\"name\",id:\"name\",placeholder:\"Enter tenant name\",value:formData.name,onChange:handleChange}),/*#__PURE__*/_jsx(InputField,{label:\"Email\",name:\"email\",id:\"email\",placeholder:\"Enter tenant email\",value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(InputField,{label:\"Password\",name:\"password\",id:\"password\",placeholder:\"Enter tenant password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex my-4 gap-x-4\",children:[/*#__PURE__*/_jsx(Button,{text:editTenant?\"Update Tenant\":\"Create Tenant\"}),/*#__PURE__*/_jsx(Button,{text:\"Close\",onClick:()=>navigate(\"/dashboard/tenants\")})]})]}),popupMessage&&/*#__PURE__*/_jsx(Popup,{open:true,onClose:closePopup,closeOnDocumentClick:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-primary mb-4\",children:popupMessage}),/*#__PURE__*/_jsx(Button,{text:\"OK\",onClick:closePopup})]})})]})});};export default AddTenant;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","createTenant","updateTenant","useNavigate","useLocation","InputField","Button","Popup","jsx","_jsx","jsxs","_jsxs","AddTenant","_location$state","dispatch","navigate","location","editTenant","state","tenant","formData","setFormData","name","email","password","popupMessage","setPopupMessage","popupType","setPopupType","handleChange","e","value","target","_objectSpread","handleSubmit","preventDefault","id","_id","unwrap","error","closePopup","className","children","onSubmit","label","placeholder","onChange","text","onClick","open","onClose","closeOnDocumentClick"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/pages/Tenant/AddTenant.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createTenant, updateTenant } from \"../../redux/slices/tenantSlice\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport InputField from \"../../components/inputField/inputField\"; \r\nimport Button from \"../../components/Button/button\"; \r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\n\r\nconst AddTenant = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const editTenant = location.state?.tenant;\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [popupMessage, setPopupMessage] = useState(null);\r\n  const [popupType, setPopupType] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (editTenant) setFormData(editTenant);\r\n  }, [editTenant]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (editTenant) {\r\n        await dispatch(\r\n          updateTenant({ id: editTenant._id, ...formData })\r\n        ).unwrap();\r\n        setPopupMessage(\"Tenant updated successfully\");\r\n        setPopupType(\"success\");\r\n      } else {\r\n        await dispatch(createTenant(formData)).unwrap();\r\n        setPopupMessage(\"Tenant created successfully\");\r\n        setPopupType(\"success\");\r\n      }\r\n      setFormData({ name: \"\", email: \"\", password: \"\" });\r\n    } catch (error) {\r\n      setPopupMessage(\"Failed to save tenant\");\r\n      setPopupType(\"error\");\r\n    }\r\n  };\r\n\r\n  const closePopup = () => {\r\n    setPopupMessage(null);\r\n    if (popupType === \"success\") {\r\n      navigate(\"/dashboard/tenants\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-white\">\r\n<div className=\"w-full max-w-md p-8 bg-white border-2 border-gray-800 rounded-lg shadow-lg\">\r\n        <h1 className=\"text-3xl text-highlight mb-6 text-center\">\r\n          {editTenant ? \"Edit Tenant\" : \"Add Tenant\"}\r\n        </h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <InputField\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            placeholder=\"Enter tenant name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n          />\r\n          <InputField\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter tenant email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n          />\r\n          <InputField\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter tenant password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n          />\r\n          <div className=\"flex my-4 gap-x-4\">\r\n            <Button text={editTenant ? \"Update Tenant\" : \"Create Tenant\"} />\r\n            <Button\r\n              text=\"Close\"\r\n              onClick={() => navigate(\"/dashboard/tenants\")}\r\n            />\r\n          </div>\r\n        </form>\r\n        {popupMessage && (\r\n          <Popup open={true} onClose={closePopup} closeOnDocumentClick>\r\n            <div className=\"w-full p-6 text-center\">\r\n              <p className=\"text-primary mb-4\">{popupMessage}</p>\r\n              <Button text=\"OK\" onClick={closePopup} />\r\n            </div>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTenant;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}