{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";const initialState={apartments:[],loading:false,error:null};export const createApartment=createAsyncThunk(\"apartments/createApartment\",async(apartmentData,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.post(\"http://localhost:5000/apartments\",apartmentData);console.log(response.data);return response.data;}catch(error){var _error$response,_error$response$data;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);}});export const getAllApartments=createAsyncThunk(\"apartments/getAllApartments\",async(_,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await axios.get(\"http://localhost:5000/apartments\");return response.data;}catch(error){return rejectWithValue(error.response.data);}});export const deleteApartment=createAsyncThunk(\"apartments/deleteApartment\",async(apartmentId,_ref3)=>{let{rejectWithValue}=_ref3;try{await axios.delete(\"http://localhost:5000/apartments/\".concat(apartmentId));return apartmentId;}catch(error){return rejectWithValue(error.response.data);}});export const updateApartment=createAsyncThunk(\"apartments/updateApartment\",async(_ref4,_ref5)=>{let{apartmentId,updatedData}=_ref4;let{rejectWithValue}=_ref5;try{const response=await axios.put(\"http://localhost:5000/apartments/\".concat(apartmentId),updatedData);return response.data;}catch(error){return rejectWithValue(error.response.data);}});const apartmentSlice=createSlice({name:\"apartments\",initialState,reducers:{},extraReducers:builder=>{builder.addCase(createApartment.pending,state=>{state.loading=true;}).addCase(createApartment.fulfilled,(state,action)=>{state.loading=false;state.apartments.push(action.payload);}).addCase(createApartment.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(getAllApartments.pending,state=>{state.loading=true;}).addCase(getAllApartments.fulfilled,(state,action)=>{state.loading=false;state.apartments=action.payload;}).addCase(getAllApartments.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(deleteApartment.pending,state=>{state.loading=true;}).addCase(deleteApartment.fulfilled,(state,action)=>{state.loading=false;state.apartments=state.apartments.filter(apartment=>apartment._id!==action.payload);}).addCase(deleteApartment.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(updateApartment.pending,state=>{state.loading=true;}).addCase(updateApartment.fulfilled,(state,action)=>{state.loading=false;const index=state.apartments.findIndex(apartment=>apartment._id===action.payload._id);if(index!==-1){state.apartments[index]=action.payload;}}).addCase(updateApartment.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export default apartmentSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","apartments","loading","error","createApartment","apartmentData","_ref","rejectWithValue","response","post","console","log","data","_error$response","_error$response$data","message","getAllApartments","_","_ref2","get","deleteApartment","apartmentId","_ref3","delete","concat","updateApartment","_ref4","_ref5","updatedData","put","apartmentSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","filter","apartment","_id","index","findIndex","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/apartmentSlice/apartmentSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  apartments: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport const createApartment = createAsyncThunk(\r\n  \"apartments/createApartment\",\r\n  async (apartmentData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/apartments\",\r\n        apartmentData\r\n      );\r\n      console.log(response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data?.message || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllApartments = createAsyncThunk(\r\n  \"apartments/getAllApartments\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/apartments\");\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteApartment = createAsyncThunk(\r\n  \"apartments/deleteApartment\",\r\n  async (apartmentId, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/apartments/${apartmentId}`);\r\n      return apartmentId;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateApartment = createAsyncThunk(\r\n  \"apartments/updateApartment\",\r\n  async ({ apartmentId, updatedData }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\r\n        `http://localhost:5000/apartments/${apartmentId}`,\r\n        updatedData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst apartmentSlice = createSlice({\r\n  name: \"apartments\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createApartment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createApartment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.apartments.push(action.payload);\r\n      })\r\n      .addCase(createApartment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(getAllApartments.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(getAllApartments.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.apartments = action.payload;\r\n      })\r\n      .addCase(getAllApartments.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(deleteApartment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(deleteApartment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.apartments = state.apartments.filter(\r\n          (apartment) => apartment._id !== action.payload\r\n        );\r\n      })\r\n      .addCase(deleteApartment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(updateApartment.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updateApartment.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.apartments.findIndex(\r\n          (apartment) => apartment._id === action.payload._id\r\n        );\r\n        if (index !== -1) {\r\n          state.apartments[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateApartment.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default apartmentSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}