{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/Fahad/Downloads/webb/webproject/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"id\"];import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{API}from\"../../utils/api.js\";export const fetchRequests=createAsyncThunk(\"requests/fetchRequests\",async()=>{const response=await API.get(\"/requests\");return response.data;});export const createRequest=createAsyncThunk(\"requests/createRequest\",async requestData=>{const response=await API.post(\"/requests\",requestData);return response.data;});export const updateRequest=createAsyncThunk(\"requests/updateRequest\",async _ref=>{let{id}=_ref,requestData=_objectWithoutProperties(_ref,_excluded);const response=await API.put(\"/requests/\".concat(id),requestData);return response.data;});export const deleteRequest=createAsyncThunk(\"requests/deleteRequest\",async id=>{await API.delete(\"/requests/\".concat(id));return id;});const requestSlice=createSlice({name:\"requests\",initialState:{requests:[],loading:false,error:null},extraReducers:builder=>{builder.addCase(fetchRequests.pending,state=>{state.loading=true;}).addCase(fetchRequests.fulfilled,(state,action)=>{state.loading=false;state.requests=action.payload;}).addCase(fetchRequests.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(createRequest.pending,state=>{state.loading=true;}).addCase(createRequest.fulfilled,(state,action)=>{state.loading=false;state.requests.push(action.payload);}).addCase(createRequest.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(updateRequest.pending,state=>{state.loading=true;}).addCase(updateRequest.fulfilled,(state,action)=>{state.loading=false;const index=state.requests.findIndex(request=>request._id===action.payload._id);if(index!==-1)state.requests[index]=action.payload;}).addCase(updateRequest.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;}).addCase(deleteRequest.pending,state=>{state.loading=true;}).addCase(deleteRequest.fulfilled,(state,action)=>{state.loading=false;state.requests=state.requests.filter(request=>request._id!==action.payload);}).addCase(deleteRequest.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;});}});export default requestSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","API","fetchRequests","response","get","data","createRequest","requestData","post","updateRequest","_ref","id","_objectWithoutProperties","_excluded","put","concat","deleteRequest","delete","requestSlice","name","initialState","requests","loading","error","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","push","index","findIndex","request","_id","filter","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/requestSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { API } from \"../../utils/api.js\";\r\n\r\nexport const fetchRequests = createAsyncThunk(\r\n  \"requests/fetchRequests\",\r\n  async () => {\r\n    const response = await API.get(\"/requests\");\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const createRequest = createAsyncThunk(\r\n  \"requests/createRequest\",\r\n  async (requestData) => {\r\n    const response = await API.post(\"/requests\", requestData);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updateRequest = createAsyncThunk(\r\n  \"requests/updateRequest\",\r\n  async ({ id, ...requestData }) => {\r\n    const response = await API.put(`/requests/${id}`, requestData);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const deleteRequest = createAsyncThunk(\r\n  \"requests/deleteRequest\",\r\n  async (id) => {\r\n    await API.delete(`/requests/${id}`);\r\n    return id;\r\n  }\r\n);\r\n\r\nconst requestSlice = createSlice({\r\n  name: \"requests\",\r\n  initialState: {\r\n    requests: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchRequests.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(fetchRequests.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.requests = action.payload;\r\n      })\r\n      .addCase(fetchRequests.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(createRequest.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createRequest.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.requests.push(action.payload);\r\n      })\r\n      .addCase(createRequest.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(updateRequest.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updateRequest.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.requests.findIndex(\r\n          (request) => request._id === action.payload._id\r\n        );\r\n        if (index !== -1) state.requests[index] = action.payload;\r\n      })\r\n      .addCase(updateRequest.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(deleteRequest.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(deleteRequest.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.requests = state.requests.filter(\r\n          (request) => request._id !== action.payload\r\n        );\r\n      })\r\n      .addCase(deleteRequest.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport default requestSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}