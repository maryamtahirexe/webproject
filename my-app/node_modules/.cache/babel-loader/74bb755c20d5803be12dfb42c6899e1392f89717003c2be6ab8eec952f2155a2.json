{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";const initialState={shops:[],loading:false,error:null};export const createShop=createAsyncThunk(\"shops/createShop\",async(shopData,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.post(\"http://localhost:5000/shops\",shopData);return response.data;}catch(error){return rejectWithValue(error.response.data);}});export const getAllShops=createAsyncThunk(\"shops/getAllShops\",async(_,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await axios.get(\"http://localhost:5000/shops\");return response.data;}catch(error){return rejectWithValue(error.response.data);}});export const deleteShop=createAsyncThunk(\"shops/deleteShop\",async(shopId,_ref3)=>{let{rejectWithValue}=_ref3;try{await axios.delete(\"http://localhost:5000/shops/\".concat(shopId));return shopId;}catch(error){return rejectWithValue(error.response.data);}});export const updateShop=createAsyncThunk(\"shops/updateShop\",async(_ref4,_ref5)=>{let{shopId,updatedData}=_ref4;let{rejectWithValue}=_ref5;try{const response=await axios.put(\"http://localhost:5000/shops/\".concat(shopId),updatedData);return response.data;}catch(error){return rejectWithValue(error.response.data);}});const shopSlice=createSlice({name:\"shops\",initialState,reducers:{},extraReducers:builder=>{builder.addCase(createShop.pending,state=>{state.loading=true;}).addCase(createShop.fulfilled,(state,action)=>{state.loading=false;state.shops.push(action.payload);}).addCase(createShop.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(getAllShops.pending,state=>{state.loading=true;}).addCase(getAllShops.fulfilled,(state,action)=>{state.loading=false;state.shops=action.payload;}).addCase(getAllShops.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(deleteShop.pending,state=>{state.loading=true;}).addCase(deleteShop.fulfilled,(state,action)=>{state.loading=false;state.shops=state.shops.filter(shop=>shop._id!==action.payload);}).addCase(deleteShop.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(updateShop.pending,state=>{state.loading=true;}).addCase(updateShop.fulfilled,(state,action)=>{state.loading=false;const index=state.shops.findIndex(shop=>shop._id===action.payload._id);if(index!==-1){state.shops[index]=action.payload;}}).addCase(updateShop.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export default shopSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","shops","loading","error","createShop","shopData","_ref","rejectWithValue","response","post","data","getAllShops","_","_ref2","get","deleteShop","shopId","_ref3","delete","concat","updateShop","_ref4","_ref5","updatedData","put","shopSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","filter","shop","_id","index","findIndex","reducer"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/redux/slices/shopSlice/shopSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  shops: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport const createShop = createAsyncThunk(\r\n  \"shops/createShop\",\r\n  async (shopData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/shops\",\r\n        shopData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllShops = createAsyncThunk(\r\n  \"shops/getAllShops\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/shops\");\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteShop = createAsyncThunk(\r\n  \"shops/deleteShop\",\r\n  async (shopId, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/shops/${shopId}`);\r\n      return shopId;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateShop = createAsyncThunk(\r\n  \"shops/updateShop\",\r\n  async ({ shopId, updatedData }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\r\n        `http://localhost:5000/shops/${shopId}`,\r\n        updatedData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst shopSlice = createSlice({\r\n  name: \"shops\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops.push(action.payload);\r\n      })\r\n      .addCase(createShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(getAllShops.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(getAllShops.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops = action.payload;\r\n      })\r\n      .addCase(getAllShops.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(deleteShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(deleteShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.shops = state.shops.filter((shop) => shop._id !== action.payload);\r\n      })\r\n      .addCase(deleteShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(updateShop.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(updateShop.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.shops.findIndex(\r\n          (shop) => shop._id === action.payload._id\r\n        );\r\n        if (index !== -1) {\r\n          state.shops[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateShop.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default shopSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}