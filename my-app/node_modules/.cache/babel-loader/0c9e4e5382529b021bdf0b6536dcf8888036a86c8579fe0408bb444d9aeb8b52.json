{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fahad\\\\Downloads\\\\webb\\\\webproject\\\\my-app\\\\src\\\\pages\\\\Profile\\\\updateEmail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateOwner, clearMessage, clearError } from \"../../redux/slices/updateSlice/updateSlice\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateEmailPage = () => {\n  _s();\n  const [newEmail, setNewEmail] = useState(\"\");\n  const [confirmNewEmail, setConfirmNewEmail] = useState(\"\");\n  const [popupMessage, setPopupMessage] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    loading,\n    message,\n    error\n  } = useSelector(state => state.update);\n  useEffect(() => {\n    setPopupMessage(message || error);\n  }, [message, error]);\n  const handleUpdate = async () => {\n    if (!newEmail || !confirmNewEmail) {\n      setPopupMessage(\"Both fields are required\");\n      setTimeout(() => setPopupMessage(null), 3000);\n      return;\n    }\n    if (newEmail !== confirmNewEmail) {\n      setPopupMessage(\"Emails do not match\");\n      setTimeout(() => setPopupMessage(null), 3000);\n      return;\n    }\n    const form = document.getElementById(\"updateEmailForm\");\n    if (!form.checkValidity()) {\n      form.reportValidity();\n      return;\n    }\n    try {\n      const response = await dispatch(updateOwner({\n        id: 1,\n        email: newEmail\n      })).unwrap();\n      setPopupMessage(response.message || \"Email updated successfully\");\n      setTimeout(() => {\n        setPopupMessage(null);\n      }, 3000);\n      dispatch(clearMessage());\n      dispatch(clearError());\n      setNewEmail(\"\");\n      setConfirmNewEmail(\"\");\n    } catch (error) {\n      console.error(\"Error updating email:\", error);\n      setPopupMessage(\"Failed to update email\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-primary p-8 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-6 text-center text-highlight\",\n        children: \"Update Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"updateEmailForm\",\n        onSubmit: e => e.preventDefault(),\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-highlight mb-2\",\n            htmlFor: \"newEmail\",\n            children: \"New Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"newEmail\",\n            value: newEmail,\n            onChange: e => setNewEmail(e.target.value),\n            className: \"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-highlight\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-highlight mb-2\",\n            htmlFor: \"confirmNewEmail\",\n            children: \"Confirm New Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"confirmNewEmail\",\n            value: confirmNewEmail,\n            onChange: e => setConfirmNewEmail(e.target.value),\n            className: \"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-highlight\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleUpdate,\n            className: \"bg-highlight text-white px-4 py-2 rounded-md hover:bg-highlight\",\n            disabled: loading,\n            children: loading ? \"Updating...\" : \"Update Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600\",\n            onClick: () => window.history.back(),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), popupMessage && /*#__PURE__*/_jsxDEV(Popup, {\n        open: true,\n        onClose: () => setPopupMessage(null),\n        closeOnDocumentClick: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full text-center p-4 rounded-lg shadow-lg\",\n          children: popupMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdateEmailPage, \"raVj8goIAkSJ/F70RRML0wJ5Ep8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = UpdateEmailPage;\nexport default UpdateEmailPage;\nvar _c;\n$RefreshReg$(_c, \"UpdateEmailPage\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","updateOwner","clearMessage","clearError","Popup","jsxDEV","_jsxDEV","UpdateEmailPage","_s","newEmail","setNewEmail","confirmNewEmail","setConfirmNewEmail","popupMessage","setPopupMessage","dispatch","loading","message","error","state","update","handleUpdate","setTimeout","form","document","getElementById","checkValidity","reportValidity","response","id","email","unwrap","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","preventDefault","noValidate","htmlFor","type","value","onChange","target","required","onClick","disabled","window","history","back","open","onClose","closeOnDocumentClick","_c","$RefreshReg$"],"sources":["C:/Users/Fahad/Downloads/webb/webproject/my-app/src/pages/Profile/updateEmail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  updateOwner,\r\n  clearMessage,\r\n  clearError,\r\n} from \"../../redux/slices/updateSlice/updateSlice\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\n\r\nconst UpdateEmailPage = () => {\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [confirmNewEmail, setConfirmNewEmail] = useState(\"\");\r\n  const [popupMessage, setPopupMessage] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { loading, message, error } = useSelector((state) => state.update);\r\n\r\n  useEffect(() => {\r\n    setPopupMessage(message || error);\r\n  }, [message, error]);\r\n\r\n  const handleUpdate = async () => {\r\n    if (!newEmail || !confirmNewEmail) {\r\n      setPopupMessage(\"Both fields are required\");\r\n      setTimeout(() => setPopupMessage(null), 3000);\r\n      return;\r\n    }\r\n    if (newEmail !== confirmNewEmail) {\r\n      setPopupMessage(\"Emails do not match\");\r\n      setTimeout(() => setPopupMessage(null), 3000);\r\n      return;\r\n    }\r\n\r\n    const form = document.getElementById(\"updateEmailForm\");\r\n    if (!form.checkValidity()) {\r\n      form.reportValidity();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await dispatch(\r\n        updateOwner({ id: 1, email: newEmail })\r\n      ).unwrap();\r\n      setPopupMessage(response.message || \"Email updated successfully\");\r\n      setTimeout(() => {\r\n        setPopupMessage(null);\r\n      }, 3000);\r\n      dispatch(clearMessage());\r\n      dispatch(clearError());\r\n\r\n      setNewEmail(\"\");\r\n      setConfirmNewEmail(\"\");\r\n    } catch (error) {\r\n      console.error(\"Error updating email:\", error);\r\n      setPopupMessage(\"Failed to update email\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white flex items-center justify-center\">\r\n      <div className=\"w-full max-w-md bg-primary p-8 rounded-lg shadow-md\">\r\n        <h2 className=\"text-2xl font-bold mb-6 text-center text-highlight\">\r\n          Update Email\r\n        </h2>\r\n        <form\r\n          id=\"updateEmailForm\"\r\n          onSubmit={(e) => e.preventDefault()}\r\n          noValidate\r\n        >\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-highlight mb-2\" htmlFor=\"newEmail\">\r\n              New Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"newEmail\"\r\n              value={newEmail}\r\n              onChange={(e) => setNewEmail(e.target.value)}\r\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-highlight\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              className=\"block text-highlight mb-2\"\r\n              htmlFor=\"confirmNewEmail\"\r\n            >\r\n              Confirm New Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"confirmNewEmail\"\r\n              value={confirmNewEmail}\r\n              onChange={(e) => setConfirmNewEmail(e.target.value)}\r\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-highlight\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleUpdate}\r\n              className=\"bg-highlight text-white px-4 py-2 rounded-md hover:bg-highlight\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Updating...\" : \"Update Email\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600\"\r\n              onClick={() => window.history.back()}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n        {popupMessage && (\r\n          <Popup\r\n            open={true}\r\n            onClose={() => setPopupMessage(null)}\r\n            closeOnDocumentClick\r\n          >\r\n            <div className=\"w-full text-center p-4 rounded-lg shadow-lg\">\r\n              {popupMessage}\r\n            </div>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateEmailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}